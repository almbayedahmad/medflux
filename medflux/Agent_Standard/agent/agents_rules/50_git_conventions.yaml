meta:
  version: 3
  id: git_conventions

git_conventions:
  commit_header_regex: '^(feat|fix|refactor|docs|test|chore|perf|build|ci)\([a-z0-9_-]+/phase_[0-9]{2}_[a-z0-9_]+\): .+'
  commit_template: |
    <type>(<repo>/<phase>_<stage>): <summary>

    - Problem: ...
    - Solution: ...
    - Benefit: ...

    Refs:
  branches:
    stage_branch: 'stage/phase_XX_<stage>'
    feature_branch: 'feat/phase_XX_<stage>/<short-name>'
    fix_branch: 'fix/phase_XX_<stage>/<short-name>'
    release_branch: 'release/vX.Y.Z'
  pull_request_template_sections:
    - 'Title (match main commit)'
    - 'Problem → Solution → Benefit'
    - 'Impact scope (BREAKING? stages affected)'
    - 'Validation (tests/validators)'
